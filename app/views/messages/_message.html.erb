<div class="message <%= message.user == current_user ? 'flex justify-end' : 'flex justify-start' %>" id="<%= dom_id(message) %>">
  <div class="<%= message.user == current_user ? 'bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white' : 'bg-gray-200 text-gray-800' %> rounded-lg px-4 py-2 max-w-xs sm:max-w-md">
    <div class="<%= message.user == current_user ? 'text-right' : '' %>">
      <% unless message.user == current_user %>
        <p class="text-xs font-medium mb-1 <%= message.user == current_user ? 'text-indigo-200' : 'text-gray-500' %>">
          <%= message.user.name %>
        </p>
      <% end %>
      <p><%= message.body %></p>
      <p class="text-xs <%= message.user == current_user ? 'text-indigo-200' : 'text-gray-500' %> mt-1">
        <%= short_time_ago_in_words(message.created_at) %>
        <% if message.user == current_user %>
          <% if message.read? %>
            <span class="ml-1">✓✓</span>
          <% else %>
            <span class="ml-1">✓</span>
          <% end %>
        <% end %>
      </p>
    </div>
  </div>
</div>