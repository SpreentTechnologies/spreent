<%= form_with model: user, url: settings_path, local: false do |f| %>
  <div class="form-group">
    <%= f.label :name %>
    <%= f.text_field :name, class: "form-control" %>
    <% if user.errors[:name].any? %>
      <span class="error"><%= user.errors[:name].first %></span>
    <% end %>
  </div>

  <div class="form-group">
    <%= f.label :email %>
    <%= f.email_field :email, class: "form-control" %>
    <% if user.errors[:email].any? %>
      <span class="error"><%= user.errors[:email].first %></span>
    <% end %>
  </div>

  <div class="form-group">
    <%= f.label :bio %>
    <%= f.text_area :bio, class: "form-control", rows: 4 %>
  </div>

  <div class="form-group">
    <%= f.label :public_email, "Public Email" %>
    <%= f.check_box :public_email, class: "form-checkbox" %>
    <span class="checkbox-label">Make my email public</span>
  </div>

  <div class="form-group">
    <%= f.label :theme_preference, "Theme" %>
    <%= f.select :theme_preference, [['Light', 'light'], ['Dark', 'dark'], ['System Default', 'system']], {}, class: "form-select" %>
  </div>

  <div class="form-actions">
    <%= f.submit "Save Changes", class: "btn btn-primary", data: { disable_with: "Saving..." } %>
  </div>
<% end %>